# ==============================================================================
# ConfigMap for Application Configuration
# ==============================================================================
apiVersion: v1
kind: ConfigMap
metadata:
  name: smarthr360-config
  namespace: smarthr360
  labels:
    app: smarthr360
    component: config
data:
  # Django Settings
  DJANGO_SETTINGS_MODULE: "config.settings.production"
  DEBUG: "False"
  ENVIRONMENT: "production"

  # Database Configuration
  DB_NAME: "smarthr360"
  DB_PORT: "5432"

  # Redis Configuration
  REDIS_PORT: "6379"
  CELERY_RESULT_BACKEND: "django-db"

  # Application Settings
  ALLOWED_HOSTS: "*.smarthr360.com,smarthr360.com"
  LOG_LEVEL: "INFO"

  # ML Settings
  FUTURE_SKILLS_USE_ML: "True"
  ML_MODEL_PATH: "/app/artifacts/models"

  # Security Settings
  SECURE_SSL_REDIRECT: "True"
  SESSION_COOKIE_SECURE: "True"
  CSRF_COOKIE_SECURE: "True"
  SECURE_HSTS_SECONDS: "31536000"

  # Monitoring
  ENABLE_PROMETHEUS: "True"
  ENABLE_HEALTH_CHECKS: "True"

  # Auto Migration
  AUTO_MIGRATE: "false"

  # Gunicorn Settings
  GUNICORN_WORKERS: "4"
  GUNICORN_THREADS: "2"
  GUNICORN_TIMEOUT: "120"

  # Celery Settings
  CELERY_WORKER_CONCURRENCY: "4"
  CELERY_WORKER_MAX_TASKS_PER_CHILD: "1000"
